# 用户管理

## 相关的几个比较重要的文件
### passwd文件每列的含义
1:用户名
2:密码占位符(密码不在这里)
3:UID:用户身份证
4:GID:基本组组号
5:描述
6:登录系统时所在的目录
7:登录shell，登录解释器

### shadow文件
1:用户名
2:密码加密值
3:最后一次修改时间
4:最小时间间隔
5:最大时间间隔
6:警告时间
7:不活动时间
8:失效时间
9:保留（）

### group
1.组名
2.组密码
3.GID
4.组成员

## 用户/组管理
### 用户管理

**用户**
1:useradd 创建用户：参数：-u,设置uid,
-d设置用户所在位置 -g,设置基本组， -G,设置附加组
2:id username:查询用户
3:passwd username:为用户创密码，修改密码
4:userdel -r username:删除用户
5:usermod:修改用户权限

**用户组**
1:groupadd:创建组
2:groupdel:删除组
3:gpasswd:组的相关操作

**提权**
提权方式1：
su - username(建议选这个)
su username
提权方式2：
sudo

## 用户权限
### 基本权限（ugo）
权限三种对象
u:user
g:group
o:other
a:all
权限的三种类型
读：r=4
写：w=2
执行: x=1

设置权限
chmod	对象 +/- 权限		文件/目录
更改属主属组
chown username.groupname filename
chown username filename
chown .groupname filename

ls -d看的是文件夹的具体情况
ls -l下看文件属性时
第一个是文档的类型
属主 属组 其他人 链接 属主 属组 大小 日期
**rw-	r--	r--** 	1 	root root 0 Apr 26 23:40 01.txt

### 访问控制列表（acl）
setfacl -m u:userid:- - - filename
getfacl filename	看权限
setfacl -x u:username filename删除权限

### 特殊权限（了解）
1.特殊符：suid,零食具有属主的能力。

2.文件属性chattr：如果一个文件很重要，怕被任何人修改或删除（包括超管），给文件设置 i 权限，chattr -i filename，后续课程经常要用,还有其他的权限，这里不加说明。

3.进程掩码：umask,系统创建文件夹时，默认权限是0777-umask,创建文件时是0777-umask-0111。

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTE1Mjk2NTE4MTVdfQ==
-->